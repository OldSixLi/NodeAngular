<!-- 马少博  创建于 2017年5月19日15:39:33 -->
<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='shortcut icon' href='https://raw.githubusercontent.com/OldSixLi/ListPage/master/public/images/my.ico' />
  <title> radio组件</title>
  <link href='http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-default/index.css">
  <style>
    .panel-heading {
      font-weight: 800;
    }
    
    .panel-body.code {
      background-color: #f5f5f5;
    }
    
    .panel-body.code>pre {
      border: none;
    }
  </style>
</head>

<body>
  <div id="radioBlock">
    <div class="container">
      <h1 class="text-center">radio组件</h1>
      <div class="row">

        <div class="col-md-12 col-sm-12">
          <!--示例-->
          <div class="panel panel-default">
            <div class="panel-heading">Example</div>
            <div class="panel-body">
              <ht-radio class="radio" v-model="radio" label="1" @click="alerts()">第一个</ht-radio>
              <ht-radio class="radio" v-model="radio" label="2">第二个</ht-radio>
              <p>当前选项的值是:{{radio}}</p>
            </div>
          </div>
          <!--代码-->
          <div class="panel panel-default">
            <div class="panel-heading">代码使用</div>
            <div class="panel-body code">
              <textarea disabled class="form-control" rows="8" style="cursor:default;">
              </textarea>
            </div>
          </div>
          <!--说明-->
          <div class="panel panel-default">
            <div class="panel-heading">说明</div>
            <div class="panel-body">

            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

  </div>
  <script type="text/x-template" id="htradio">
    <label class="el-radio">
    <span class="el-radio__input"
      :class="{
        'is-disabled': isDisabled,
        'is-checked': model === label,
        'is-focus': focus
      }"
    >
      <span class="el-radio__inner"></span>
      <input
        class="el-radio__original"
        :value="label"
        type="radio"
        v-model="model"
        @focus="focus = true"
        @blur="focus = false"
        @click="click"
        :name="name"
        :disabled="isDisabled">
    </span>
    <span class="el-radio__label">
      <slot></slot>
      <template v-if="!$slots.default">{{label}}</template>
    </span>
  </label>
  </script>

  <script src='../../Script/jquery-1.9.1.js'></script>
  <script src='../../Script/bootstrap.js'></script>
  <script src="../../Script/Vue/vue.js"></script>
  <script>
    const TYPE_CLASSES_MAP = {
      'success': 'el-icon-circle-check',
      'warning': 'el-icon-warning',
      'error': 'el-icon-circle-cross'
    };

    function broadcast(componentName, eventName, params) {
      this.$children.forEach(child => {
        var name = child.$options.componentName;
        if (name === componentName) {
          child.$emit.apply(child, [eventName].concat(params));
        } else {
          broadcast.apply(child, [componentName, eventName].concat([params]));
        }
      });
    }
    // export default {
    //   methods: {
    //     dispatch(componentName, eventName, params) {
    //       var parent = this.$parent || this.$root;
    //       var name = parent.$options.componentName;

    //       while (parent && (!name || name !== componentName)) {
    //         parent = parent.$parent;

    //         if (parent) {
    //           name = parent.$options.componentName;
    //         }
    //       }
    //       if (parent) {
    //         parent.$emit.apply(parent, [eventName].concat(params));
    //       }
    //     },
    //     broadcast(componentName, eventName, params) {
    //       broadcast.call(this, componentName, eventName, params);
    //     }
    //   }
    // };
    Vue.component("ht-radio", {
      template: "#htradio",
      methods: {
        dispatch(componentName, eventName, params) {
          var parent = this.$parent || this.$root;
          var name = parent.$options.componentName;

          while (parent && (!name || name !== componentName)) {
            parent = parent.$parent;

            if (parent) {
              name = parent.$options.componentName;
            }
          }
          if (parent) {
            parent.$emit.apply(parent, [eventName].concat(params));
          }
        },
        broadcast(componentName, eventName, params) {
          broadcast.call(this, componentName, eventName, params);
        }
      },
      //   componentName: 'ElRadio',

      props: {
        value: {},
        label: {},
        disabled: Boolean,
        name: String,
        click: null
      },
      data() {
        return {
          focus: false
        };
      },
      computed: {
        isGroup() {
          var parent = this.$parent;
          while (parent) {
            if (parent.$options.componentName !== 'ElRadioGroup') {
              parent = parent.$parent;
            } else {
              this._radioGroup = parent;
              return true;
            }
          }
          return false;
        },

        model: {
          get() {
            return this.isGroup ? this._radioGroup.value : this.value;
          },

          set(val) {
            if (this.isGroup) {
              this.dispatch('ElRadioGroup', 'input', [val]);
            } else {
              this.$emit('input', val);
            }
          }
        },

        isDisabled() {
          return this.isGroup ?
            this._radioGroup.disabled || this.disabled :
            this.disabled;
        }
      }
    });

    var radioBlock = new Vue({
      el: "#radioBlock",
      //数据部分 
      data: {
        radio: '1'

      },
      //方法
      methods: {
        alerts: function() {
          alert(this.radio);
        }
      },
      //过滤器
      filters: {},
      //实时计算
      computed: {},
      //加载后立即执行的方法(created 这个钩子在实例被创建之后被调用)
      created: function() {}
    });
  </script>
</body>

</html>